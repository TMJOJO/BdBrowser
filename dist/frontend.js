(()=>{"use strict";var __webpack_modules__={65:(e,t,r)=>{r.d(t,{A:()=>o});const o={INJECT_CSS:"bdbrowser-inject-css",MAKE_REQUESTS:"bdbrowser-make-requests",INJECT_THEME:"bdbrowser-inject-theme",GET_RESOURCE_URL:"bdbrowser-get-extension-resourceurl"}},706:(e,t,r)=>{r.d(t,{Z:()=>o});class o{static createElement(e,t={},...r){const o=document.createElement(e);Object.assign(o,t);for(const e of r)o.append(e);return o}static injectTheme(e,t){const[r]=document.getElementsByTagName("bd-themes"),o=this.createElement("style",{id:e,type:"text/css",innerHTML:t});o.setAttribute("data-bd-native",""),r.append(o)}static injectCSS(e,t){const r=this.createElement("style",{id:e,type:"text/css",innerHTML:t});this.headAppend(r)}static removeCSS(e){const t=document.querySelector("style#"+e);t&&t.remove()}static injectJS(e,t,r=!0){const o=this.createElement("script",{id:e,type:"text/javascript",src:t});this.headAppend(o),r&&o.addEventListener("load",(()=>{o.remove()}),{once:!0})}}o.headAppend=document.head.append.bind(document.head)},602:(e,t,r)=>{r.d(t,{Z:()=>o});class o{static _parseType(e){switch(e){case"info":case"warn":case"error":return e;default:return"log"}}static _log(e,t,...r){e=this._parseType(e),console[e](`%c[BetterDiscord]%c %c[${t}]%c`,"color: #3E82E5; font-weight: 700;","","color: #396CB8","",...r)}static log(e,...t){this._log("log",e,...t)}static info(e,...t){this._log("info",e,...t)}static warn(e,...t){this._log("warn",e,...t)}static error(e,...t){this._log("error",e,...t)}}},229:(e,t,r)=>{r.d(t,{Z:()=>n});const o="-reply",n=new class{constructor(e){if(!e)throw new Error("Context is required");this.context=e}createHash(){return Math.random().toString(36).substring(2,10)}reply(e,t){this.send(e.event.concat(o),t,void 0,e.hash)}on(e,t,r=!1){const o=n=>{n.data.event===e&&n.data.context!==this.context&&!0===t(n.data,n.data.data)&&r&&window.removeEventListener("message",o)};window.addEventListener("message",o)}send(e,t,r=null,n){n||(n=this.createHash()),r&&this.on(e.concat(o),(e=>e.hash===n&&(r(e.data),!0)),!0),window.postMessage({source:"betterdiscord-browser".concat("-",this.context),event:e,context:this.context,hash:n,data:t})}}("frontend")},731:(e,t,r)=>{r.d(t,{Z:()=>i});var o=r(602),n=r(343);const i=class{static memoizeObject(e){const t=new Proxy(e,{get:function(e,t){if(e.hasOwnProperty(t)){if(Object.getOwnPropertyDescriptor(e,t).get){const r=e[t];delete e[t],e[t]=r}return e[t]}},set:function(e,t,r){return e.hasOwnProperty(t)?o.Z.error("MemoizedObject","Trying to overwrite existing property"):(e[t]=r,e[t])}});return Object.defineProperty(t,"hasOwnProperty",{value:function(e){return void 0!==this[e]}}),t}}.memoizeObject({get UserSettingsStore(){return n.default.findByProps("getAllSettings","theme")},get UserStore(){return n.default.findByProps("getCurrentUser")},get ElectronModule(){return n.default.findByProps("setBadge")},get Dispatcher(){return n.default.findByProps("dispatch","subscribe","wait","unsubscribe")},get RouterModule(){return n.default.findByProps("listeners","flushRoute")},get StorageModule(){return n.default.findByProps("get","set","stringify")}})},735:(e,t,r)=>{r.r(t),r.d(t,{app:()=>n,globals:()=>i});var o=r(323);const n={getReleaseChannel:()=>i.releaseChannel,getVersion:()=>"1.0.9006",async getPath(e){if("appData"===e)return o.Z.env.APPDATA;throw new Error("Cannot find path: "+e)},relaunch(){location.reload()}},i={get releaseChannel(){return location.href.includes("canary")?"canary":location.href.includes("ptb")?"ptb":"stable"}}},287:(e,t,r)=>{r.d(t,{Z:()=>o});class o{constructor(){var e,t;t={},(e="listeners")in this?Object.defineProperty(this,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):this[e]=t}emit(e,...t){this.listeners[e]&&this.listeners[e].forEach((r=>{try{r(...t)}catch(t){console.error(`[BetterDiscord] Could not fire event [${e}] for ${r.toString().slice(0,20)}:`,t)}}))}get off(){return this.removeListener}on(e,t){this.listeners[e]||(this.listeners[e]=new Set),this.listeners[e].add(t)}removeListener(e,t){this.listeners[e]&&this.listeners[e].delete(t)}setMaxListeners(){}}o.EventEmitter=o},551:(e,t,r)=>{r.d(t,{Z:()=>i});var o=r(65),n=r(229);function i(e){return new Promise((t=>{n.Z.send(o.A.MAKE_REQUESTS,{url:e},(r=>{t(new Response(r,{url:e}))}))}))}},825:(e,t,r)=>{r.r(t),r.d(t,{basename:()=>b,default:()=>w,exists:()=>D,existsSync:()=>h,getStore:()=>l,mkdirSync:()=>m,normalizePath:()=>O,readFileSync:()=>E,readdirSync:()=>p,realpathSync:()=>P,statSync:()=>f,unlinkSync:()=>g,watch:()=>M,writeFile:()=>u,writeFileSync:()=>d});var o=r(287),n=r(731);function i(e,t){return n.Z.StorageModule.get(e,t)}function s(e,t){return n.Z.StorageModule.set(e,t)}const _=/\.(.+)$/;function a(e){return _.test(e)}const c=new o.Z;function l(){return JSON.parse(i("bd-files")||JSON.stringify(function(e){let t={type:"dir",files:{}},r=t;const o="AppData/BetterDiscord".split("/");for(const e in o){const t=o[e];if(a(t))continue;let n={type:"dir",files:{}};r.files[t]=n,r=n}return t}()))}function d(e,t){e=O(e);const r=l(),o=e.split("/"),n=o[o.length-1];if(!a(n))return!1;let i=r;for(const e in o){var _;const r=o[e],s=parseInt(e)===o.length-1;if(s||(i=null===(_=i.files)||void 0===_?void 0:_[r]),!i&&!s)return"NOT_FOUND";if(s){if("dir"!==i.type)return"NOT_A_DIR";i.files[n]={type:"file",content:t}}}s("bd-files",JSON.stringify(r)),c.emit("change",e,"change")}function u(e,t,r){try{d(e,t),r(null)}catch(e){r(e)}}function m(e){e=O(e);const t=l(),r=e.split("/"),o=r[r.length-1];if(a(o))return!1;let n=t;for(let e=0;e<r.length;e++){var i;const t=r[e],s=e===r.length-1;if(!n)return;if(s||(n=null===(i=n.files)||void 0===i?void 0:i[t]),!n&&!s)return"NOT_FOUND";if(s){if("dir"!==n.type)return"NOT_A_DIR";n.files[o]={type:"dir",files:{}}}}s("bd-files",JSON.stringify(t))}function p(e){e=O(e);const t=[],r=l(),o=e.split("/");let n=r;for(let e=0;e<o.length;e++){var i;const r=e===o.length-1,s=o[e];if(n=null===(i=n.files)||void 0===i?void 0:i[s],!n&&!r)return"NOT_FOUND";if(r&&n){if("dir"!==n.type)return"NOT_A_DIR";t.push(...Object.keys(n.files))}}return t.sort()}function E(e){e=O(e);const t=l(),r=e.split("/");let o=t;for(let e=0;e<r.length;e++){var n;const t=e===r.length-1,i=r[e];if(o=null===(n=o.files)||void 0===n?void 0:n[i],!o&&!t)return"NOT_FOUND";if(t&&o)return"file"!==o.type?"NOT_A_FILE":o.content}}function h(e){e=O(e);try{const t=f(e);return t.isFile()||t.isDirectory()}catch(e){return!1}}function f(e){e=O(e);const t=l(),r=e.split("/");let o=t;for(const e of r){var n,i;o=null===(n=o)||void 0===n||null===(i=n.files)||void 0===i?void 0:i[e]}if("file"!==o.type&&"dir"!==o.type){const t=new Error(`${e} does not exist.`);throw t.code="ENOENT",t}return{mtime:{getTime:()=>Date.now()},isFile:()=>{var e;return"file"===(null===(e=o)||void 0===e?void 0:e.type)},isDirectory:()=>{var e;return"dir"===(null===(e=o)||void 0===e?void 0:e.type)}}}function g(e){e=O(e);const t=l(),r=e.split("/"),o=r[r.length-1];let n=t;for(let e=0;e<r.length;e++){var i;const t=r[e],s=e===r.length-1;if(!n)return;if(s||(n=null===(i=n.files)||void 0===i?void 0:i[t]),!n&&!s)return"NOT_FOUND";s&&delete n.files[o]}s("bd-files",JSON.stringify(t)),c.emit("change",e,"rename")}function O(e){return e.replace(/\\/g,"/")}function b(e){if(e)return e.split(/\/|\\/).pop()}function M(e,t,r){"function"==typeof t&&(r=t,t={});const o=(e,t)=>{r(t,b(e))};return c.on("change",o),{close:()=>c.off("change",o)}}i("bd-files")||s("bd-files",JSON.stringify({type:"dir",files:{AppData:{type:"dir",files:{BetterDiscord:{type:"dir",files:{plugins:{type:"dir",files:{}},themes:{type:"dir",files:{}},data:{type:"dir",files:{}}}}}}}}));const D=h,P=O,w={watch:M,mkdirSync:m,readdirSync:p,readFileSync:E,existsSync:h,writeFileSync:d,getStore:l,statSync:f,realpathSync:O,writeFile:u,basename:b,unlinkSync:g}},301:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var _fs__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(825),_path__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(878);const globalPaths=[],_extensions={".json":(e,t)=>{const r=_fs__WEBPACK_IMPORTED_MODULE_0__.default.readFileSync(t);e.exports=JSON.parse(r)},".js":(e,t)=>{console.log(e,t)}};function _require(path,req){const extension="."+(0,_path__WEBPACK_IMPORTED_MODULE_1__.extname)(path),loader=_extensions[extension];if(!loader)throw new Error("Unkown File extension "+path);const existsFile=_fs__WEBPACK_IMPORTED_MODULE_0__.default.existsSync(path);if(path||console.log(path),!existsFile)throw new Error("Module not found!");if(req.cache[path])return req.cache[path];const final={exports:{},filename:path,_compile:content=>{let{module}=eval(`((module, global) => {\n                ${content}\n\n                return {\n                    module\n                };\n            })({exports: {}}, window)`);return Object.keys(module.exports).length&&(final.exports=module.exports),final.exports}};return loader(final,path),req.cache[path]=final.exports}const __WEBPACK_DEFAULT_EXPORT__={Module:{globalPaths,_extensions},_require}},585:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{editor:()=>editor});var common_dom__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(706),common_constants__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(65),_ipc__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(229),_discordmodules__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(731),_fetch__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(551);const version="5.62.0",links=[`https://cdnjs.cloudflare.com/ajax/libs/codemirror/${version}/codemirror.min.js`,`https://cdnjs.cloudflare.com/ajax/libs/codemirror/${version}/mode/css/css.js`,`https://cdnjs.cloudflare.com/ajax/libs/codemirror/${version}/mode/javascript/javascript.js`,`https://cdnjs.cloudflare.com/ajax/libs/codemirror/${version}/addon/search/search.js`,`https://cdnjs.cloudflare.com/ajax/libs/codemirror/${version}/addon/search/searchcursor.js`,`https://cdnjs.cloudflare.com/ajax/libs/codemirror/${version}/addon/search/jump-to-line.js`],cssCodes=["/*  Name:       material  Author:     Mattia Astorino (http://github.com/equinusocio)  Website:    https://material-theme.site/*/.cm-s-material-darker.CodeMirror {  background-color: #212121;  color: #EEFFFF;}.cm-s-material-darker .CodeMirror-gutters {  background: #212121;  color: #545454;  border: none;}.cm-s-material-darker .CodeMirror-guttermarker,.cm-s-material-darker .CodeMirror-guttermarker-subtle,.cm-s-material-darker .CodeMirror-linenumber {  color: #545454;}.cm-s-material-darker .CodeMirror-cursor {  border-left: 1px solid #FFCC00;}.cm-s-material-darker div.CodeMirror-selected {  background: rgba(97, 97, 97, 0.2);}.cm-s-material-darker.CodeMirror-focused div.CodeMirror-selected {  background: rgba(97, 97, 97, 0.2);}.cm-s-material-darker .CodeMirror-line::selection,.cm-s-material-darker .CodeMirror-line>span::selection,.cm-s-material-darker .CodeMirror-line>span>span::selection {  background: rgba(128, 203, 196, 0.2);}.cm-s-material-darker .CodeMirror-line::-moz-selection,.cm-s-material-darker .CodeMirror-line>span::-moz-selection,.cm-s-material-darker .CodeMirror-line>span>span::-moz-selection {  background: rgba(128, 203, 196, 0.2);}.cm-s-material-darker .CodeMirror-activeline-background {  background: rgba(0, 0, 0, 0.5);}.cm-s-material-darker .cm-keyword {  color: #C792EA;}.cm-s-material-darker .cm-operator {  color: #89DDFF;}.cm-s-material-darker .cm-variable-2 {  color: #EEFFFF;}.cm-s-material-darker .cm-variable-3,.cm-s-material-darker .cm-type {  color: #f07178;}.cm-s-material-darker .cm-builtin {  color: #FFCB6B;}.cm-s-material-darker .cm-atom {  color: #F78C6C;}.cm-s-material-darker .cm-number {  color: #FF5370;}.cm-s-material-darker .cm-def {  color: #82AAFF;}.cm-s-material-darker .cm-string {  color: #C3E88D;}.cm-s-material-darker .cm-string-2 {  color: #f07178;}.cm-s-material-darker .cm-comment {  color: #545454;}.cm-s-material-darker .cm-variable {  color: #f07178;}.cm-s-material-darker .cm-tag {  color: #FF5370;}.cm-s-material-darker .cm-meta {  color: #FFCB6B;}.cm-s-material-darker .cm-attribute {  color: #C792EA;}.cm-s-material-darker .cm-property {  color: #C792EA;}.cm-s-material-darker .cm-qualifier {  color: #DECB6B;}.cm-s-material-darker .cm-variable-3,.cm-s-material-darker .cm-type {  color: #DECB6B;}.cm-s-material-darker .cm-error {  color: rgba(255, 255, 255, 1.0);  background-color: #FF5370;}.cm-s-material-darker .CodeMirror-matchingbracket {  text-decoration: underline;  color: white !important;}",'/*Copyright (C) 2011 by MarkLogic CorporationAuthor: Mike Brevoort <mike@brevoort.com>Permission is hereby granted, free of charge, to any person obtaining a copyof this software and associated documentation files (the "Software"), to dealin the Software without restriction, including without limitation the rightsto use, copy, modify, merge, publish, distribute, sublicense, and/or sellcopies of the Software, and to permit persons to whom the Software isfurnished to do so, subject to the following conditions:The above copyright notice and this permission notice shall be included inall copies or substantial portions of the Software.THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS ORIMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THEAUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHERLIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS INTHE SOFTWARE.*/.cm-s-xq-light span.cm-keyword { line-height: 1em; font-weight: bold; color: #5A5CAD; }.cm-s-xq-light span.cm-atom { color: #6C8CD5; }.cm-s-xq-light span.cm-number { color: #164; }.cm-s-xq-light span.cm-def { text-decoration:underline; }.cm-s-xq-light span.cm-variable { color: black; }.cm-s-xq-light span.cm-variable-2 { color:black; }.cm-s-xq-light span.cm-variable-3, .cm-s-xq-light span.cm-type { color: black; }.cm-s-xq-light span.cm-property {}.cm-s-xq-light span.cm-operator {}.cm-s-xq-light span.cm-comment { color: #0080FF; font-style: italic; }.cm-s-xq-light span.cm-string { color: red; }.cm-s-xq-light span.cm-meta { color: yellow; }.cm-s-xq-light span.cm-qualifier { color: grey; }.cm-s-xq-light span.cm-builtin { color: #7EA656; }.cm-s-xq-light span.cm-bracket { color: #cc7; }.cm-s-xq-light span.cm-tag { color: #3F7F7F; }.cm-s-xq-light span.cm-attribute { color: #7F007F; }.cm-s-xq-light span.cm-error { color: #f00; }.cm-s-xq-light .CodeMirror-activeline-background { background: #e8f2ff; }.cm-s-xq-light .CodeMirror-matchingbracket { outline:1px solid grey;color:black !important;background:yellow; }'];Promise.all(links.map(((link,i)=>(0,_fetch__WEBPACK_IMPORTED_MODULE_4__.Z)(link).then((e=>e.text())).then((async code=>{if(i>0&&!window.CodeMirror)for(;!window.CodeMirror;)await new Promise((e=>setTimeout(e,200)));eval(code)}))))),(0,_fetch__WEBPACK_IMPORTED_MODULE_4__.Z)(`https://cdnjs.cloudflare.com/ajax/libs/codemirror/${version}/codemirror.min.css`).then((e=>e.text())).then((e=>{_ipc__WEBPACK_IMPORTED_MODULE_2__.Z.send(common_constants__WEBPACK_IMPORTED_MODULE_1__.A.INJECT_CSS,{css:e,id:"code-mirror-style"})}));for(const e of cssCodes)_ipc__WEBPACK_IMPORTED_MODULE_2__.Z.send(common_constants__WEBPACK_IMPORTED_MODULE_1__.A.INJECT_CSS,{css:e,id:"code-mirror-theme-"+cssCodes.indexOf(e)});const editor={_active:[],setTheme:e=>{editor._active.forEach((t=>t.setOption("theme",e)))},create:(e,t)=>{const r=common_dom__WEBPACK_IMPORTED_MODULE_0__.Z.createElement("textarea",{});e.appendChild(r);const o=CodeMirror.fromTextArea(r,{mode:t.language,lineNumbers:!0,theme:"light"===_discordmodules__WEBPACK_IMPORTED_MODULE_3__.Z.UserSettingsStore.theme?"xq-light":"material-darker"});return o.setValue(t.value),editor._active.push(o),{dispose:()=>{editor._active.splice(editor._active.indexOf(o),1)},onDidChangeModelContent:e=>(o.on("change",(()=>e())),{dispose:()=>o.off("change",e)}),getValue:()=>o.getValue(),setValue:e=>o.setValue(e),layout:()=>{},$defaultHandler:{commands:{showSettingsMenu:{exec:()=>{}}}}}}}},580:(__unused_webpack_module,__unused_webpack___webpack_exports__,__webpack_require__)=>{var common_dom__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(706),common_constants__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(65),common_logger__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(602),_ipc__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(229);for(const e of Object.keys(console)){var _console$method;null!==(_console$method=console[e])&&void 0!==_console$method&&_console$method.__sentry_original__&&(console[e]=console[e].__sentry_original__)}const appendMethods=["append","appendChild","prepend"],originalInsertBefore=document.head.insertBefore;function patchMethods(e,t){for(const r of appendMethods){const o=e[r];e[r]=function(){const e={args:arguments,callOriginalMethod:()=>o.apply(this,arguments)};return t(e)},e[r].__bd_original=o}return()=>{for(const t of appendMethods){const r=e[t].__bd_original;r&&(e[t]=r)}}}document.head.insertBefore=function(e){var t;return null!=e&&null!==(t=e.href)&&void 0!==t&&t.includes("monaco-editor")?(_ipc__WEBPACK_IMPORTED_MODULE_2__.Z.send(common_constants__WEBPACK_IMPORTED_MODULE_1__.A.MAKE_REQUESTS,{url:e.href},(t=>{common_dom__WEBPACK_IMPORTED_MODULE_0__.Z.injectCSS(e.id||"monaco-styles",t),"function"==typeof e.onload&&e.onload(),common_logger__WEBPACK_IMPORTED_MODULE_3__.Z.log("CSP:Bypass","Loaded monaco stylesheet.")})),void(document.head.insertBefore=originalInsertBefore)):originalInsertBefore.apply(this,arguments)};const unpatchHead=patchMethods(document.head,(data=>{var _node$src,_node$id;const[node]=data.args;if("monaco-style"===(null==node?void 0:node.id))return _ipc__WEBPACK_IMPORTED_MODULE_2__.Z.send(common_constants__WEBPACK_IMPORTED_MODULE_1__.A.MAKE_REQUESTS,{url:node.href},(e=>{common_dom__WEBPACK_IMPORTED_MODULE_0__.Z.injectCSS(node.id,e),"function"==typeof node.onload&&node.onload(),common_logger__WEBPACK_IMPORTED_MODULE_3__.Z.log("CSP:Bypass","Loaded monaco stylesheet.")})),node;if("bd-head"===(null==node?void 0:node.localName))patchMethods(node,(data=>{const[node]=data.args;"bd-scripts"===node.localName?patchMethods(node,(data=>{const[node]=data.args;_ipc__WEBPACK_IMPORTED_MODULE_2__.Z.send(common_constants__WEBPACK_IMPORTED_MODULE_1__.A.MAKE_REQUESTS,{url:node.src,type:"script"},(data=>{eval(data),"function"==typeof node.onload&&node.onload(),common_logger__WEBPACK_IMPORTED_MODULE_3__.Z.log("CSP:Bypass",`Loaded script with url ${node.src}`)}))})):"bd-themes"===(null==node?void 0:node.localName)&&patchMethods(node,(e=>{const[t]=e.args;if(t.getAttribute("data-bd-native"))return e.callOriginalMethod();injectTheme(t),"function"==typeof t.onload&&t.onload(),common_logger__WEBPACK_IMPORTED_MODULE_3__.Z.log("CSP:Bypass",`Loaded theme ${t.id}`)})),data.callOriginalMethod()}));else{if(null!=node&&null!==(_node$src=node.src)&&void 0!==_node$src&&_node$src.includes("monaco-editor"))return void _ipc__WEBPACK_IMPORTED_MODULE_2__.Z.send(common_constants__WEBPACK_IMPORTED_MODULE_1__.A.MAKE_REQUESTS,{url:node.src,type:"script"},(data=>{eval(data),"function"==typeof node.onload&&node.onload(),common_logger__WEBPACK_IMPORTED_MODULE_3__.Z.log("CSP:Bypass",`Loaded script with url ${node.src}`)}));if(null!=node&&null!==(_node$id=node.id)&&void 0!==_node$id&&_node$id.endsWith("-script-container"))return common_logger__WEBPACK_IMPORTED_MODULE_3__.Z.log("CSP:Bypass",`Loading plugin ${node.id.replace("-script-container","")}`),void eval(`(() => {\n            try {\n                ${node.textContent}\n            } catch (e) {\n                console.error("Failed to load plugin:", e);\n            }\n        })()`)}return data.callOriginalMethod()}));function injectTheme(e){_ipc__WEBPACK_IMPORTED_MODULE_2__.Z.send(common_constants__WEBPACK_IMPORTED_MODULE_1__.A.INJECT_THEME,{id:e.id,css:e.textContent})}},878:(e,t,r)=>{r.r(t),r.d(t,{join:()=>n,basename:()=>i,resolve:()=>s,extname:()=>_,dirname:()=>a});var o=r(825);function n(...e){let t="";for(let r of e)r&&(r=(0,o.normalizePath)(r),"/"==r[0]&&(r=r.slice(1)),t+="/"==r[r.length-1]?r:r+"/");return"/"==t[t.length-1]?t.slice(0,t.length-1):t}function i(e){return e.split("/").slice(-1)[0]}function s(...e){return n(...e)}function _(e){return e.split(".").slice(-1)[0]}function a(e){return e.split("/").slice(0,-1).join("/")}},323:(e,t,r)=>{r.d(t,{Z:()=>o});const o={platform:"win32",env:{APPDATA:"AppData",DISCORD_APP_PATH:"AppData/Discord/AppPath",DISCORD_USER_DATA:"AppData/Discord/UserData",BETTERDISCORD_DATA_PATH:"AppData/BetterDiscord"}}},707:(e,t,r)=>{r.d(t,{Z:()=>S});var o={};r.r(o),r.d(o,{clipboard:()=>f,ipcRenderer:()=>l,remote:()=>E,shell:()=>h});var n={};r.r(n),r.d(n,{createServer:()=>b,get:()=>M,request:()=>O});var i={};r.r(i),r.d(i,{compileFunction:()=>P});var s=r(706),_=r(731);const[a,c]=void 0!==document.hidden?["hidden","visibilitychange"]:void 0!==document.msHidden?["msHidden","msvisibilitychange"]:void 0!==document.webkitHidden?["webkitHidden","webkitvisibilitychange"]:void 0;class l{static addWindowListeners(){document.addEventListener(c,(()=>{document[a]?this.fire("bd-window-maximize"):this.fire("bd-window-minimize")}))}static createEvent(e){this.listeners[e]||(this.listeners[e]=new Set)}static fire(e,...t){if(this.listeners[e])for(const r of this.listeners[e])r(...t)}static initialize(){this.addWindowListeners()}static async invoke(e){switch(console.log("INVOKE:",e),e){case"bd-config":return{version:"0.6.0",local:!1,localPath:"",branch:"development",bdVersion:"1.0.0",minSupportedVersion:"0.3.0",hash:"gh-pages",dataPath:"AppData/BetterDiscord/"};case"bd-injector-info":return{version:"1.0.0"}}}static on(e,t){if("bd-did-navigate-in-page"===e)return this.onSwitch(t);this.createEvent(e),this.listeners[e].add(t)}static onSwitch(e){_.Z.RouterModule.listeners.add(e)}static send(){console.log("SEND:",...arguments)}}var d,u,m;m={},(u="listeners")in(d=l)?Object.defineProperty(d,u,{value:m,enumerable:!0,configurable:!0,writable:!0}):d[u]=m;var p=r(825);l.initialize();const E={app:{getAppPath:()=>"ElectronAppPath"},getCurrentWindow:()=>null,getCurrentWebContents:()=>({on:()=>{}})},h={openItem:e=>{const t=s.Z.createElement("input",{type:"file",multiple:"multiple"});t.addEventListener("change",(()=>{for(const r of t.files){const t=new FileReader;t.onload=()=>{p.default.writeFileSync(`AppData/BetterDiscord/${e.split("/").pop()}/${r.name}`,t.result)},t.readAsText(r)}})),t.click()},openExternal:()=>{}},f={writeText:e=>navigator.clipboard.writeText(e)};var g=r(551);function O(e,t,r){return"function"==typeof t&&(r=t,t={}),(0,g.Z)(e).then((e=>e.text())).then((e=>{r({on:(t,r)=>{switch(t){case"data":return r(e);case"end":return r()}}})})),{statusCode:200,on:()=>{},end:()=>{}}}function b(){return{listen:()=>{},close:()=>{}}}const M=O;var D=r(878);function P(e,t=[]){return`((${t.join(", ")}) => {\n        try {\n            ${e}\n        } catch (e) {\n            console.error("Could not load:", e);\n        }\n    })`}var w=r(343),C=r(287),y=r(301),A=r(323),T=r(65),v=r(229);class k extends Response{constructor(e){super(e),this.res=e}get headers(){return Object.fromEntries(Array.from(this.res.headers))}}function R(e,t,r){"function"==typeof t&&(r=t,t={}),v.Z.send(T.A.MAKE_REQUESTS,{url:e},(e=>{const t=new Response(e);t.statusCode=t.status,r(null,t,e)}))}function S(e){switch(e){case"_discordmodules":return _.Z;case"fs":return p;case"vm":return i;case"path":return D;case"module":return y.Z;case"electron":return o;case"events":return C.Z;case"request":return R;case"_webpack":return w;case"process":return A.Z;case"mime-types":return{lookup:()=>{}};case"url":return{parse:()=>{}};case"child_process":return;case"http":case"https":return n;default:return y.Z._require(e,S)}}Object.assign(R,{get:R,head:function(e,t,r){"function"==typeof t&&(r=t,t={}),fetch(e).then((e=>{r(null,new k(e))}),(e=>r(e)))}}),S.resolve=()=>{},S.cache={}},343:(e,t,r)=>{function o(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}r.r(t),r.d(t,{default:()=>n}),"function"!=typeof Array.prototype.at&&(Array.prototype.at=function(e){return e<0?this[this.length-Math.abs(e)]:this[e]});class n{static get webpackNamespace(){return window.webpackJsonp||window.webpackChunkdiscord_app}static async wait(e){for(;!this.webpackNamespace||this.webpackNamespace.flat(10).length<50;)await new Promise((e=>setTimeout(e,0)));"function"==typeof e&&e()}static request(e){if(e&&this._cache)return this._cache;let t;return"webpackJsonp"in window?t=window.webpackJsonp.push([[],{[this.id]:(e,t,r)=>e.exports=r},[[this.id]]]):"webpackChunkdiscord_app"in window&&window.webpackChunkdiscord_app.push([[this.id],{},e=>t=e]),this._cache=t}static findModule(e,t=!1,r=!0){const o=this.request(r),n=[];for(let t in o.c){var i=o.c[t].exports;if(i&&("object"==typeof i||"function"==typeof i)&&e(i)&&n.push(i),i&&i.__esModule)for(let t in i)i[t]&&("object"==typeof i[t]||"function"==typeof i[t])&&e(i[t])&&n.push(i[t])}return t?n:n.shift()}static findModules(e){return this.findModule(e,!0)}static bulk(...e){const t=new Array(e.length);return this.findModule((r=>{const o=e.filter((e=>{try{return e(r)}catch{return!1}}));if(!o.length)return!1;for(const n of o)t[e.indexOf(n)]=r;return!1})),t}static findByProps(...e){const t="boolean"==typeof e.at(-1)&&e.at(-1),r=(e,t)=>e.every((e=>e in t));return t?this.bulk(...e.slice(0,-1).map((e=>r.bind(null,e)))):this.findModule(r.bind(null,e))}static findByDisplayName(...e){const t="boolean"==typeof e.at(-1)&&e.at(-1),r="boolean"==typeof e.at(-2)&&e.at(-2);t&&(e=e.slice(0,-1)),r&&(e=e.slice(0,-1));const o=(e,t)=>{var o;return r?(null==t||null===(o=t.default)||void 0===o?void 0:o.displayName)===e:(null==t?void 0:t.displayName)===e};return t?this.bulk(...e.map((e=>o.bind(null,e)))):this.findModule(o.bind(null,e[0]))}}o(n,"id","kernel-req"+Math.random().toString().slice(2,3)),o(n,"_cache",null)}},__webpack_module_cache__={};function __webpack_require__(e){var t=__webpack_module_cache__[e];if(void 0!==t)return t.exports;var r=__webpack_module_cache__[e]={exports:{}};return __webpack_modules__[e](r,r.exports,__webpack_require__),r.exports}__webpack_require__.d=(e,t)=>{for(var r in t)__webpack_require__.o(t,r)&&!__webpack_require__.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},__webpack_require__.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),__webpack_require__.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var __webpack_exports__={};(()=>{var common_dom__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(706),common_logger__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(602),common_constants__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(65),_ipc__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(229),_modules_discordmodules__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(731),_modules_discordnative__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(735),_modules_fetch__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(551),_modules_fs__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(825),_modules_monaco__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(585),_modules_process__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(323),_modules_require__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(707),_modules_patches__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(580);Object.defineProperty(_modules_discordmodules__WEBPACK_IMPORTED_MODULE_3__.Z.ElectronModule,"canBootstrapNewUpdater",{value:!1,configurable:!0}),window.fallbackClassName="bdfdb_fallbackClass",window.value=null,window.firstArray=[],window.user="",window.global=window,window.DiscordNative=_modules_discordnative__WEBPACK_IMPORTED_MODULE_4__,window.fetchWithoutCSP=_modules_fetch__WEBPACK_IMPORTED_MODULE_5__.Z,window.fs=_modules_fs__WEBPACK_IMPORTED_MODULE_6__.default,window.IPC=_ipc__WEBPACK_IMPORTED_MODULE_2__.Z,window.monaco=_modules_monaco__WEBPACK_IMPORTED_MODULE_7__,window.process=_modules_process__WEBPACK_IMPORTED_MODULE_8__.Z,window.require=_modules_require__WEBPACK_IMPORTED_MODULE_9__.Z,common_logger__WEBPACK_IMPORTED_MODULE_11__.Z.log("Frontend","Loading, Environment = production"),common_dom__WEBPACK_IMPORTED_MODULE_0__.Z.injectCSS("BetterDiscordWebStyles",".CodeMirror {height: 100% !important;}"),_ipc__WEBPACK_IMPORTED_MODULE_2__.Z.send(common_constants__WEBPACK_IMPORTED_MODULE_1__.A.GET_RESOURCE_URL,{url:"dist/betterdiscord.js"},(async resource_url=>{_ipc__WEBPACK_IMPORTED_MODULE_2__.Z.send(common_constants__WEBPACK_IMPORTED_MODULE_1__.A.MAKE_REQUESTS,{url:resource_url},(async bd=>{var _DiscordModules$UserS;const callback=async()=>{_modules_discordmodules__WEBPACK_IMPORTED_MODULE_3__.Z.Dispatcher.unsubscribe("CONNECTION_OPEN",callback),common_logger__WEBPACK_IMPORTED_MODULE_11__.Z.log("Frontend",`Loading BetterDiscord from ${resource_url}...`);try{eval(`(() => {\n                    ${bd}\n                })(window.fetchWithoutCSP)`)}catch(e){common_logger__WEBPACK_IMPORTED_MODULE_11__.Z.error("Frontend","Failed to load BetterDiscord:\n",e)}};null!==(_DiscordModules$UserS=_modules_discordmodules__WEBPACK_IMPORTED_MODULE_3__.Z.UserStore)&&void 0!==_DiscordModules$UserS&&_DiscordModules$UserS.getCurrentUser()?(common_logger__WEBPACK_IMPORTED_MODULE_11__.Z.log("Frontend","getCurrentUser succeeded, running setImmediate()."),setImmediate(callback)):(common_logger__WEBPACK_IMPORTED_MODULE_11__.Z.log("Frontend","getCurrentUser failed, registering callback."),_modules_discordmodules__WEBPACK_IMPORTED_MODULE_3__.Z.Dispatcher.subscribe("CONNECTION_OPEN",callback))}))}))})()})();